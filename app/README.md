# 开发记录

5月4日：

- 登录界面开发
  - 使用shared_preferences 插件存储token，实现持久化。
  - 使用http package完成网络请求。url使用统一的类进行管理。
  - 实现输入用户名和密码，点击用户登录按钮的登录功能。用户名和密码有空值校验，存在空值有弹窗提示。登录成功保存userdata实现持久化，登录失败有弹窗提示。
  - 实现登录成功自动跳转主页。
- 实现主页中的个人中心界面开发
  - 展示基础用户头像和个人信息。
  - 设计了退出登录功能，本质上是清空本地用户信息并跳转到登录界面。
- 实现主页中根据用户权限不同显示不同的菜单项

5月6日：

- 保持登录状态
  - 创建initpage校验本地登录信息，如果保存的登录信息有效，打开软件直接进入主页，否则显示登录界面。
- 应用状态管理
  - 在根部创建一个userTokenProvider用来管理用户的token，在每一个子widget中都能访问到。
  - 这个provider应用加载的时候调用shared_prefefences完成数据加载并向服务器发起验证。应用等待加载并验证完成之后才渲染对应页面。
- 申请界面开发
  - 右下角放置一个加号按钮，点击进去显示弹窗，弹窗中显示出可以提出的申请类型。该弹窗从provider中获取token，并利用token向服务器请求数据并展示出来。
